# Mac 应用打包说明

## 概述
本文档说明如何将多开浏览器管理工具打包成Mac应用，让用户可以像其他Mac应用一样双击启动。

## 方案选择

### 方案1：完整的Mac应用包（推荐）
创建标准的 `.app` 应用包，可以安装到应用程序文件夹。

#### 使用步骤：
1. **运行自动构建脚本**：
   ```bash
   ./build_app.sh
   ```

2. **手动构建**（可选）：
   ```bash
   # 安装依赖
   pip3 install py2app
   pip3 install -r requirements.txt
   
   # 构建应用
   python3 setup.py py2app
   ```

3. **构建完成后**：
   - 在 `dist` 文件夹中找到 `多开浏览器管理工具.app`
   - 双击即可运行
   - 可拖拽到应用程序文件夹进行安装

### 方案2：简单启动脚本
如果不需要完整的应用包，可以使用简单的启动脚本。

#### 使用方法：
1. 在访达中双击 `启动应用.command` 文件
2. 系统会自动打开终端并运行应用

## 文件说明

- `setup.py` - py2app 配置文件
- `build_app.sh` - 自动构建脚本
- `启动应用.command` - 简单启动脚本

## 注意事项

### 系统要求
- macOS 10.14 或更高版本
- Python 3.7+ 
- 已安装 Google Chrome 浏览器

### 权限设置
首次运行时，macOS 可能会提示安全警告：
1. 在"系统偏好设置" > "安全性与隐私"中
2. 点击"仍要打开"按钮
3. 或者在应用上右键选择"打开"

### 依赖管理
构建的应用包含所有必要的依赖，无需额外安装 Python 包。

## 故障排除

### 构建失败
1. 确保已安装 Xcode Command Line Tools：
   ```bash
   xcode-select --install
   ```

2. 确保 Python 环境正确：
   ```bash
   python3 --version
   pip3 --version
   ```

### 应用无法启动
1. 检查是否有权限问题
2. 查看控制台日志获取详细错误信息
3. 确保 Chrome 浏览器已正确安装

### 性能优化
构建的应用启动可能较慢，这是正常现象。首次启动需要加载所有依赖。

## 分发说明

如果需要分发给其他用户：
1. 压缩整个 `.app` 文件夹
2. 提供安装说明
3. 建议创建 DMG 文件进行分发

### 创建 DMG 文件（可选）
```bash
# 创建DMG磁盘镜像用于分发
hdiutil create -volname "多开浏览器管理工具" -srcfolder dist/ -ov -format UDZO "多开浏览器管理工具.dmg"
```

## 支持

如有问题，请检查：
1. Python 版本兼容性
2. 系统权限设置
3. Chrome 浏览器安装状态
4. 依赖包完整性 